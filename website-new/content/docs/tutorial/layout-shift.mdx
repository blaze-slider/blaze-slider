---
title: Preventing Layout Shifts
description: Achieve zero CLS with CSS variables
---

import { LayoutShiftDemo, ExampleSlider } from '@/components/example-slider';

Layout shifts happen when page elements move unexpectedly after initial render. They frustrate users and hurt your [CLS](https://web.dev/cls/) score.

Most slider libraries cause this - the layout jumps when JavaScript initializes. Blaze Slider eliminates this with CSS variables.

## The Problem

A slider showing 3 slides on desktop, 2 on mobile:

```js
new BlazeSlider(el, {
  all: { slidesToShow: 3 },
  '(max-width: 500px)': { slidesToShow: 2 },
})
```

Without CSS configuration, the browser renders all slides stacked. When JavaScript runs, they suddenly snap into place.
Toggle between these states to see the shift below


<LayoutShiftDemo
  config={{
    all: { slidesToShow: 3 },
    '(max-width: 500px)': { slidesToShow: 2 },
  }}
>
  <div>1</div>
  <div>2</div>
  <div>3</div>
  <div>4</div>
</LayoutShiftDemo>


## The Fix

Set the same values in CSS. The browser renders the correct layout before JavaScript loads.

```css
.my-slider.blaze-slider {
  --slides-to-show: 3;
}

@media (max-width: 500px) {
  .my-slider.blaze-slider {
    --slides-to-show: 2;
  }
}
```

<Callout type="warn">
CSS variables must be on the `.blaze-slider` element.
</Callout>

Now the layout is stable:

<LayoutShiftDemo
  fixCLS
  config={{
    all: { slidesToShow: 3 },
    '(max-width: 500px)': { slidesToShow: 2 },
  }}
>
  <div>1</div>
  <div>2</div>
  <div>3</div>
  <div>4</div>
</LayoutShiftDemo>

## CSS Variables

| Variable           | Description                      |
| ------------------ | -------------------------------- |
| `--slides-to-show` | Number of visible slides         |
| `--slide-gap`      | Gap between slides (e.g. `16px`) |

Keep CSS and JavaScript values in sync.

## Example

```css
.my-slider.blaze-slider {
  --slides-to-show: 3; /* [!code highlight] */
  --slide-gap: 16px; /* [!code highlight] */
}

@media (max-width: 500px) {
  .my-slider.blaze-slider {
    --slides-to-show: 2; /* [!code highlight] */
  }
}
```

```js
new BlazeSlider(document.querySelector('.my-slider'), {
  all: {
    slidesToShow: 3, // [!code highlight]
    slideGap: '16px', // [!code highlight]
  },
  '(max-width: 500px)': {
    slidesToShow: 2, // [!code highlight]
  },
})
```

<ExampleSlider
  config={{
    all: {
      slidesToShow: 3,
      slideGap: '16px',
    },
    '(max-width: 500px)': {
      slidesToShow: 2,
    },
  }}
>
  <div>1</div>
  <div>2</div>
  <div>3</div>
  <div>4</div>
</ExampleSlider>
